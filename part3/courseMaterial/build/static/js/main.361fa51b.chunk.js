(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{ 39:function(t,e,n){},40:function(t,e,n){'use strict';n.r(e);var c=n(0),o=n(2),r=n(15),i=n.n(r),a=n(6),u=n(4),s=function(t){var e=t.note,n=t.toggleImportance,o=e.important?'make not important':'make important';return Object(c.jsxs)('li',{ className:'note',children:[e.content,Object(c.jsx)('button',{ onClick:n,children:o })] });},j=function(t){var e=t.message;return null===e?null:Object(c.jsx)('div',{ className:'error',children:e });},l=function(){return Object(c.jsxs)('div',{ style:{ color:'green',fontStyle:'italic',fontSize:16 },children:[Object(c.jsx)('br',{}),Object(c.jsx)('em',{ children:'Note app, Department of Computer Science, University of Helsinki 2020' })] });},f=function(t){var e=t.setNewNote,n=t.addNote,o=t.newNote;return Object(c.jsxs)('div',{ children:[Object(c.jsx)('input',{ type:'text',value:o,onChange:function(t){return function(t){e(t.target.value);}(t);} }),Object(c.jsx)('button',{ onClick:n,children:'save' })] });},d=n(3),b=n.n(d),O='api/notes',p=function(){return b.a.get(O).then((function(t){return t.data;}));},m=function(t){return b.a.post(O,t).then((function(t){return t.data;}));},h=function(t,e){return b.a.put(''.concat(O,'/').concat(t),e).then((function(t){return t.data;}));},v=function(){var t=Object(o.useState)(),e=Object(u.a)(t,2),n=e[0],r=e[1],i=Object(o.useState)(''),d=Object(u.a)(i,2),b=d[0],O=d[1],v=Object(o.useState)(null),x=Object(u.a)(v,2),N=x[0],g=x[1];Object(o.useEffect)((function(){p().then((function(t){var e=JSON.parse(JSON.stringify(t));return r(e),e;}));}),[]);return console.log(n),Object(c.jsxs)('div',{ children:[Object(c.jsx)('h1',{ children:'Notes' }),Object(c.jsx)(j,{ message:N }),n&&Object(c.jsx)('ul',{ children:n.map((function(t){return Object(c.jsx)(s,{ note:t,toggleImportance:function(){return function(t){var e=n.find((function(e){return e.id===t;})),c=Object(a.a)(Object(a.a)({},e),{},{ important:!e.important });h(t,c).then((function(e){r(n.map((function(n){return n.id!==t?n:e;})));})).catch((function(c){g('Note \''.concat(e.content,'\' was already deleted from server')),setTimeout((function(){g(null);}),5e3),r(n.filter((function(e){return e.id!==t;})));}));}(t.id);} },t.id);})) }),Object(c.jsx)(f,{ setNewNote:O,addNote:function(t){t.preventDefault();var e={ content:b,date:(new Date).toISOString(),important:Math.random()>.5 };m(e).then((function(t){r(n.concat(t)),O('');}));},newNote:b }),Object(c.jsx)(l,{})] });};n(39);i.a.render(Object(c.jsx)(v,{}),document.getElementById('root'));} },[[40,1,2]]]);
//# sourceMappingURL=main.361fa51b.chunk.js.map